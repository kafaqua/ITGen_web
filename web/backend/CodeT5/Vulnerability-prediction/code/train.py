import os

# criterion = "bayes"

# criterions = ["bayes", "wir", "beam"]

criterions = ["bayes",]

for criterion in criterions:
    os.system(f"CUDA_VISIBLE_DEVICES=2 python run_vulnerability.py \
        --output_dir ../enhanced_models/{criterion}/ \
        --model_type codet5 \
        --tokenizer_name /home/yanmeng/huangli/.cache/huggingface/hub/models--Salesforce--codet5-base-multi-sum \
        --model_name_or_path /home/yanmeng/huangli/.cache/huggingface/hub/models--Salesforce--codet5-base-multi-sum \
        --do_train \
        --do_eval \
        --train_data_file /home/yanmeng/huangli/Attack/dataset/Vulnerability-prediction/train.jsonl \
        --eval_data_file /home/yanmeng/huangli/Attack/dataset/Vulnerability-prediction/valid.jsonl \
        --test_data_file /home/yanmeng/huangli/Attack/dataset/Vulnerability-prediction/test_last.jsonl \
        --epoch 10 \
        --block_size 512 \
        --train_batch_size 24 \
        --eval_batch_size 64 \
        --learning_rate 2e-5 \
        --max_grad_norm 1.0 \
        --evaluate_during_training \
        --use_enhance \
        --criterion {criterion} \
        --seed 123456  2>&1 | tee ../enhanced_models/{criterion}/train.log")



