import os

c = "bayes"

criterions = ["alert", "beam","bayes"]

half_full = "last"

for criterion in criterions:
    if criterion != c:
        half_full = "full"
    else:
        half_full = "last"
    print(f"Attack {criterion} with {half_full}")
    os.system(f"CUDA_VISIBLE_DEVICES=2 python test_other.py \
            --output_dir=../enhanced_models/{c} \
            --model_type=codet5 \
            --config_name=/home/yanmeng/huangli/.cache/huggingface/hub/models--Salesforce--codet5-base-multi-sum \
            --tokenizer_name=/home/yanmeng/huangli/.cache/huggingface/hub/models--Salesforce--codet5-base-multi-sum \
            --model_name_or_path=/home/yanmeng/huangli/.cache/huggingface/hub/models--Salesforce--codet5-base-multi-sum \
            --eval_data_file=../../../dataset/preprocess/test_subs_vulnerability_codebert.jsonl \
            --last_file=/home/yanmeng/huangli/Attack/CodeT5/Vulnerability-prediction/code/halfdata/attack_{criterion}_{half_full}.jsonl \
            --block_size 512 \
            --eval_batch_size 2 \
            --seed 123456")

